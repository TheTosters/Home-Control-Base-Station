Taken from: https://github.com/cesanta/mongoose
